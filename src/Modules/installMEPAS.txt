import FRAMES2API.*;
import javax.swing.*;


UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
JFileChooser jfc=new JFileChooser("C:\\");
jfc.setDialogTitle("Select the path to the MEPAS executables");
jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
if(jfc.showOpenDialog(null) != JFileChooser.APPROVE_OPTION) { exit(); }
String MepasPath=jfc.getSelectedFile().getAbsolutePath()+ "\\";

Install inst=new Install();

String path=bsh.args[0];
String DicPath=path+"\\Dictionaries\\";
String ModPath=path+"\\Modules\\";
String AppPath=path+"\\";
String ICONpath=path+"\\Icons\\";
String DomainName="FRAMES";

System.out.println("Calling OpenINI with "+path);

inst.Start(path);

inst.Dic(DicPath,"MepSrcSl.dic");
inst.Dic(DicPath,"MepSrcSw.dic");
inst.Dic(DicPath,"MepSrcAq.dic");
inst.Dic(DicPath,"MepAir.dic");
inst.Dic(DicPath,"MepVad.dic");
inst.Dic(DicPath,"MepAqu.dic");
inst.Dic(DicPath,"MepSW.dic");
inst.Dic(DicPath,"MepSecSl.dic");
inst.Dic(DicPath,"MepSecSw.dic");
inst.Dic(DicPath,"MepHei.dic");
inst.Dic(DicPath,"MepRcp.dic");
inst.Dic(DicPath,"MepExp.dic");

System.out.println("Adding MEPAS Modules");

inst.MepasMod(ModPath,"MEPAS 4.1 Air Module.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Human Health Impact Module.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Intake Module.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 River Module.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Saturated Zone Module.Mod",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Source in an Aquifer.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Source in Non-flowing Pond.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Source In Soil.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Vadose Zone Module.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"MEPAS 4.1 Chronic Exposure Module.MOD",AppPath,AppPath,AppPath,MepasPath,true);

inst.MepasMod(ModPath,"FRAMES Default Chemical Database Selection.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"WFF Graphical View.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"WCF Graphical View.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"EPF Graphical View.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"RIF Graphical View.MOD",AppPath,AppPath,AppPath,MepasPath,true);
inst.MepasMod(ModPath,"HIF Graphical View.MOD",AppPath,AppPath,AppPath,MepasPath,true);

System.out.println("Adding Transport & Risk Domain");
inst.Domain(DomainName,path+"\\Icons\\fui.ico");

inst.DatabaseGroup(DomainName,"Aquatic Benchmarks",path+"\\Icons\\aqu.ico");
inst.DatabaseGroup(DomainName,"Aquatic Organism Selector",path+"\\Icons\\chk.ico");
inst.DatabaseGroup(DomainName,"Constituent",path+"\\Icons\\cont.ico");
inst.DatabaseGroup(DomainName,"GIS",path+"\\Icons\\gis.ico");

inst.ModelGroup(DomainName,"Boundary Conditions",path+"\\Icons\\open.ico");
inst.ModelGroup(DomainName,"Eco Exposure & Risk",path+"\\Icons\\open.ico");
inst.ModelGroup(DomainName,"Human Exposure & Risk",path+"\\Icons\\open.ico");
inst.ModelGroup(DomainName,"Fate & Transport",path+"\\Icons\\open.ico");

inst.ModelSubGroup(DomainName,"Boundary Conditions","User Defined",path+"\\Icons\\usr.ico");
inst.ModelSubGroup(DomainName,"Eco Exposure & Risk","Eco Effects",path+"\\Icons\\efx.ico");
inst.ModelSubGroup(DomainName,"Fate & Transport","Air",path+"\\Icons\\air.ico");
inst.ModelSubGroup(DomainName,"Fate & Transport","Aquifer",path+"\\Icons\\aqu.ico");
inst.ModelSubGroup(DomainName,"Fate & Transport","Overland Flow",path+"\\Icons\\ovl.ico");
inst.ModelSubGroup(DomainName,"Fate & Transport","Source",path+"\\Icons\\src.ico");
inst.ModelSubGroup(DomainName,"Fate & Transport","Surface Water",path+"\\Icons\\riv.ico");
inst.ModelSubGroup(DomainName,"Fate & Transport","Vadose Zone",path+"\\Icons\\vad.ico");
inst.ModelSubGroup(DomainName,"Human Exposure & Risk","Exposure Pathways",path+"\\Icons\\exp.ico");
inst.ModelSubGroup(DomainName,"Human Exposure & Risk","Health Impacts",path+"\\Icons\\hei.ico");
inst.ModelSubGroup(DomainName,"Human Exposure & Risk","Receptor Intake",path+"\\Icons\\rcp.ico");

inst.SystemGroup(DomainName,"Sensitivity",path+"\\Icons\\sen.ico");

System.out.println("FINISHED...");

inst.End();

exit();
