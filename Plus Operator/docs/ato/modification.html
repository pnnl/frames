<html>
 <head>
  <title>ATO modification of existing sources</title>
 </head>
 <body>
  <p>
  The following files were copied from the Frames1.x SourceSafe for
  use in the ATO plus operator.  The indented lines are the files
  copied. The outdented lines are the folders/projects in SourceSafe
  from which the files were copied.
  </p>
  <menu>
   <ul>
    /frames/frames dll/
     <ul><a href="modification/atoClass.h.html">atoClass.h</a></ul>
     <ul><a href="modification/atoClass.cpp.html">atoClass.cpp</a></ul>
   </ul>
   <ul>
   /frames/common files/
     <ul>csv.h</ul>
     <ul>csv.cpp</ul>
   </ul>
   <ul>
   /GIS Aware/PrePre Aquifer/
     <ul>gid.h</ul>
     <ul><a href="modification/gid.cpp.html">gid.cpp</a></ul>
   </ul>
  </menu>
  <p>
   Only 3 files (the ones with a hyperlink) were modified out of the
   six.  You can click on those files to see a comparison of the
   orignal and the final.  atoClass.h and atoClass.cpp are the most
   important, and probably the most difficult to compare
   differences.<br/>
   Following are the changes that could affect outside dependencies
   (ie other files that reference these files).
  </p>
  <p>
    <ul>
     <a href="modification/gid.cpp.html">gid.cpp</a>
     <ul>
      <font color="green">I could not find any references to
      variables, functions, objects, defines, or anything in the
      robust.h.  I removed it because it was uncecessary to include
      an irrelevant file.</font>
      <table>
<tr valign="top">
 <td><code>1</code></td>
 <td><code>1</code></td>
 <td><code>//------------------------------------------------------------------------------</code></td>
</tr>
<tr valign="top">
 <td><code>2</code></td>
 <td><code>2</code></td>
 <td><code>#include&nbsp;&quot;gid.h&quot;</code></td>
</tr>
<tr valign="top">
<td><code>3</code></td><td><code></code></td><td><code><s><font
     color="red">#</font><font color="red">i</font><font
     color="red">n</font><font color="red">c</font><font
     color="red">l</font><font color="red">u</font><font
     color="red">d</font><font color="red">e</font>&nbsp;<font
     color="red">&quot;</font><font color="red">r</font><font
     color="red">o</font><font color="red">b</font><font
     color="red">u</font><font color="red">s</font><font
     color="red">t</font><font color="red">.</font><font
     color="red">h</font><font
     color="red">&quot;</font></s></code></td> 
</tr>
<tr valign="top">
<td><code></code></td><td><code>3</code></td><td><code><i><font
     color="blue">//</font><font color="blue">#</font><font
     color="blue">i</font><font color="blue">n</font><font
     color="blue">c</font><font color="blue">l</font><font
     color="blue">u</font><font color="blue">d</font><font
     color="blue">e</font>&nbsp;<font color="blue">&quot;</font><font
     color="blue">r</font><font color="blue">o</font><font
     color="blue">b</font><font color="blue">u</font><font
     color="blue">s</font><font color="blue">t</font><font
     color="blue">.</font><font color="blue">h</font><font
     color="blue">&quot;</font></i></code></td> 
</tr>
<tr valign="top">
<td><code>4</code></td><td><code>4</code></td><td><code>//------------------------------------------------------------------------------</code></td>
</tr>
</table>
     </ul>
    </ul>
  </p>

  <p>
    <ul>
     <a href="modification/atoClass.h.html">atoClass.h</a>
     <ul>
     <font color="green">
      I included the file csv.h.  Each class is dependent on it for
     reading and writing csv files.
     </font>
<table>
<tr valign="top">
<td><code>5</code></td><td><code>5</code></td><td><code></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>6</code></td><td><code><i><font color="red">#include</font><font color="blue">&nbsp;</font><font color="red">&quot;csv.h&quot;</font></i></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>7</code></td><td><code><i><font color="blue">//#define&nbsp;float&nbsp;double</font></i></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>8</code></td><td><code><i><font color="red">class</font><font color="blue">&nbsp;</font><font color="red">ATOFluxType;</font></i></code></td>
</tr>
</table>
     <font color="green">
       I eliminated the fluxtype string variable.  I did this because
     it was ineffcient and a pain to go through each grid to change
     the name of the flux types (for merging ATO's with flux types of
     the same properties but different name).  It was easier to place
     a reference to the flux type a grid used, so that when I wanted
     to change the name of the flux type, it could be done in one
     place, and all of the grids would be automatically updated.  So,
     instead of using ATOGrid::fluxtype to get the flux name, use
     ATOGrid::flux->getFullName().
     </font>
<table>
<tr valign="top">
<td><code>14</code></td><td><code>18</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;moist[50];</code></td>
</tr>
<tr valign="top">
<td><code>15</code></td><td><code></code></td><td><code><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">c</font><font color="red">h</font><font color="red">a</font><font color="red">r</font>&nbsp;<font color="red">f</font><font color="red">l</font><font color="red">u</font><font color="red">x</font><font color="red">t</font><font color="red">y</font><font color="red">p</font><font color="red">e</font><font color="red">[</font><font color="red">5</font><font color="red">0</font><font color="red">]</font><font color="red">;</font></s></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>19</code></td><td><code><i><font color="blue">//</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="blue">c</font><font color="blue">h</font><font color="blue">a</font><font color="blue">r</font>&nbsp;<font color="blue">f</font><font color="blue">l</font><font color="blue">u</font><font color="blue">x</font><font color="blue">t</font><font color="blue">y</font><font color="blue">p</font><font color="blue">e</font><font color="blue">[</font><font color="blue">5</font><font color="blue">0</font><font color="blue">]</font><font color="blue">;</font></i></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>20</code></td><td><code><i><font color="blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="red">ATOFluxType</font><font color="blue">&nbsp;</font><font color="red">*flux;</font></i></code></td>
</tr>
<tr valign="top">
<td><code>16</code></td><td><code>21</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;type[50];</code></td>
</tr>
</table>
      <font color="green">
       In the ATOTimePeriod class, I made the numoutput variable
     private, and provided a getnumoutput() function.  I did this in
     result of making the appendGrid function, which automatically
     appends grids to the ATOTimePeriod, and therefore keeps track of
     numoutputs.  If numoutputs was changed outside of the class then
     appendGrid would most likly crash because of the unequivalent
     value of actual grids vs the value numoutput holds.  Therefore I
     made it private to avoid this from happening.  So, instead of
     using ATOTimePeriod::numoutput, use
     ATOTimePeriod::getnumoutput().  The only way to modify the value
     of numoutput would be to call appendGrid(ATOGrid*).
      </font>
<table>
<tr valign="top">
<td><code>38</code></td><td><code>140</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;unit[50];</code></td>
</tr>
<tr valign="top">
<td><code>39</code></td><td><code></code></td><td><code><s><font color="blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="red">int</font><font color="blue">&nbsp;</font><font color="red">numoutput;</font></s></code></td>
</tr>
<tr valign="top">
<td><code>40</code></td><td><code>141</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATOGrid&nbsp;**grids;</code></td>
</tr>
<tr><td>...  ... ...</td></tr>
<tr valign="top">
<td><code></code></td><td><code>171</code></td><td><code><i><font color="blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</font></i></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>172</code></td><td><code><i>&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">i</font><font color="red">n</font><font color="red">t</font>&nbsp;<font color="red">getnum</font>o<font color="red">u</font><font color="red">tput</font>()<font color="blue">&nbsp;</font><font color="red">{return</font><font color="blue">&nbsp;</font><font color="red">numoutput</font>;<font color="red">}</font></i></code></td>
</tr>
<tr valign="top">
<td><code>72</code></td><td><code>173</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;private:</code></td>
</tr>
<tr valign="top">
<tr valign="top">
<td><code></code></td><td><code>174</code></td><td><code><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;<font color="red">numoutp</font>ut;</i></code></td>
</tr>
<tr valign="top">
<td><code>80</code></td><td><code>175</code></td><td><code>};</code></td>
</tr>

</table>
      <font color="green">I wiped out all of the ATOProgeny code.  I
     found it to be an almost mirror copy of ATOContam.  The only
     difference was that ATOProgeny had extra information about the
     parent constituent (contaminant).  So I added a flag and
     created parent property variables for the case of a
     progeny.<br/>Wherever you use ATOProgeny in dependent code, you
     should be able to replace it with ATOContam.  To specify that the
     ATOContam is a progeny, pass a 'true' value to it's
     constructor.</font> 
<table>
<tr valign="top">
<td><code>90</code></td><td><code></code></td><td><code><s>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
     color="red">ATOP</font><font color="red">rog</font>en<font
     color="red">y</font><font color="blue">&nbsp;</font><font
     color="red">**progs</font>;</s></code></td> 
</tr>
<tr valign="top">
<td><code></code></td><td><code>185</code></td><td><code><i><font
     color="blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
     color="red">char</font><font color="blue">&nbsp;</font><font
     color="red">parenname[80];</font></i></code></td> 
</tr>
<tr valign="top">
<td><code></code></td><td><code>186</code></td><td><code><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font
     color="red">c</font><font color="red">har</font><font
     color="blue">&nbsp;</font><font color="red">par</font>en<font
     color="red">c</font><font
     color="red">asid[80]</font>;</i></code></td> 
</tr>
<tr valign="top">
<td><code>91</code></td><td><code>187</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ATOTimePeriod&nbsp;**times;</code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>188</code></td><td><code><i><font
     color="blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font
     color="red">ATOContam</font><font color="blue">&nbsp;</font><font
     color="red">**progs;</font></i></code></td> 
</tr>
<tr valign="top">
<td><code>92</code></td><td><code>189</code></td><td><code></code></td>
</tr><tr><td>... ... ... </td></tr>
<tr valign="top">
<td><code>102</code></td><td><code>213</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;private:</code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>214</code></td><td><code><i><font color="blue">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="red">bool</font><font color="blue">&nbsp;</font><font color="red">isprogeny;</font></i></code></td>
</tr>
<tr valign="top">
<td><code>103</code></td><td><code>215</code></td><td><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;validCount;</code></td>
</tr>
</table>
     </ul>
    </ul>
  </p>

  <p>
    <ul>
     <a href="modification/atoClass.cpp.html">atoClass.cpp</a>
     <ul>
      <font color="green">
       atoClass.h and atoClass.cpp now depend on interpolate.h and
     interpolate.cpp.  The interpolate files provide interpolation
     routines for merging data (when using the add functions)</font>
     <table>
<tr valign="top">
<td><code>5</code></td><td><code>4</code></td><td><code>#include&nbsp;&quot;atoClass.h&quot;</code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>5</code></td><td><code><i><font color="red">#include</font><font color="blue">&nbsp;</font><font color="red">&quot;interpolate.h&quot;</font></i></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>6</code></td><td><code></code></td>
</tr>
<tr valign="top">
<td><code></code></td><td><code>7</code></td><td><code><i><font color="red">#include</font><font color="blue">&nbsp;</font><font color="red">&lt;math.h&gt;</font></i></code></td>
</tr>
<tr valign="top">
<td><code>6</code></td><td><code>8</code></td><td><code>#pragma&nbsp;package(smart_init)</code></td>
</tr>

     </table>
     </ul>
    </ul>
  </p>


 </body>
</html>